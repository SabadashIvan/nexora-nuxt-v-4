name: Shipping
description: 'APIs for managing shipping methods, rates, searching settlements and warehouses'
endpoints:
  -
    custom: []
    httpMethods:
      - POST
    uri: 'api/v1/shipping/webhook/{provider_code}'
    metadata:
      custom: []
      groupName: Shipping
      groupDescription: 'APIs for managing shipping methods, rates, searching settlements and warehouses'
      subgroup: ''
      subgroupDescription: ''
      title: 'Handle shipping webhook'
      description: 'Receives webhook notifications from shipping providers about tracking updates.'
      authenticated: false
      deprecated: false
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      provider_code:
        custom: []
        name: provider_code
        description: 'The shipping provider code.'
        required: true
        example: novapost
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanUrlParameters:
      provider_code: novapost
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        custom: []
        status: 204
        content: ''
        headers: []
        description: Success
      -
        custom: []
        status: 204
        content: ''
        headers: []
        description: Error
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - GET
    uri: api/v1/shipping/methods
    metadata:
      custom: []
      groupName: Shipping
      groupDescription: 'APIs for managing shipping methods, rates, searching settlements and warehouses'
      subgroup: ''
      subgroupDescription: ''
      title: 'Get available shipping methods'
      description: 'Retrieves available shipping methods and rates for a given destination and checkout session.'
      authenticated: false
      deprecated: false
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters:
      checkout_session_id:
        custom: []
        name: checkout_session_id
        description: 'numeric Checkout session ID.'
        required: true
        example: '10'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      dest.country:
        custom: []
        name: dest.country
        description: 'Destination country code.'
        required: true
        example: US
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      dest.city:
        custom: []
        name: dest.city
        description: 'Destination city.'
        required: true
        example: 'New York'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      dest.region:
        custom: []
        name: dest.region
        description: 'Destination region/state.'
        required: false
        example: NY
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      dest.postal:
        custom: []
        name: dest.postal
        description: 'Destination postal code.'
        required: false
        example: '10001'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanQueryParameters:
      checkout_session_id: '10'
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        custom: []
        status: 200
        content: |
          {
              "data": {
                  "currency": "EUR",
                  "methods": [
                      {
                          "code": "np_warehouse",
                          "name": "Nova Post Warehouse",
                          "source": "internal",
                          "price": "$80.00",
                          "eta": null,
                          "quote_id": "q_01k8awpra03ck0bq331y0j3fd5"
                      }
                  ],
                  "cache_ttl_seconds": 900
              }
          }
        headers: []
        description: Success
      -
        custom: []
        status: 422
        content: ''
        headers: []
        description: 'Error: validation'
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - GET
    uri: 'api/v1/shipping/{provider_code}/settlements/search'
    metadata:
      custom: []
      groupName: Shipping
      groupDescription: 'APIs for managing shipping methods, rates, searching settlements and warehouses'
      subgroup: ''
      subgroupDescription: ''
      title: 'Search settlements'
      description: 'Search for cities and settlements in shipping provider database.'
      authenticated: false
      deprecated: false
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      provider_code:
        custom: []
        name: provider_code
        description: 'The shipping provider code.'
        required: true
        example: novapost
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanUrlParameters:
      provider_code: novapost
    queryParameters:
      city_name:
        custom: []
        name: city_name
        description: 'City name or postal index to search.'
        required: true
        example: київ
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      limit:
        custom: []
        name: limit
        description: 'Number of records per page (1-100). Defaults to 20.'
        required: false
        example: 20
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      page:
        custom: []
        name: page
        description: 'Page number (starts from 1). Defaults to 1.'
        required: false
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanQueryParameters:
      city_name: київ
      limit: 20
      page: 1
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        custom: []
        status: 200
        content: modules/Shipping/docs/scribe/examples/search-settlements-success.json
        headers: []
        description: Success
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - GET
    uri: 'api/v1/shipping/{provider_code}/warehouses/search'
    metadata:
      custom: []
      groupName: Shipping
      groupDescription: 'APIs for managing shipping methods, rates, searching settlements and warehouses'
      subgroup: ''
      subgroupDescription: ''
      title: 'Search warehouses'
      description: 'Search for warehouses and postomats by city, method, and checkout session items with automatic filtering by cargo dimensions and weight.'
      authenticated: false
      deprecated: false
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      provider_code:
        custom: []
        name: provider_code
        description: 'The shipping provider code.'
        required: true
        example: novapost
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanUrlParameters:
      provider_code: novapost
    queryParameters:
      method_code:
        custom: []
        name: method_code
        description: 'Shipping method code.'
        required: true
        example: np_warehouse
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      city_external_id:
        custom: []
        name: city_external_id
        description: 'City external ID from settlements search.'
        required: true
        example: 8d5a980d-391c-11dd-90d9-001a92567626
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      checkout_session_id:
        custom: []
        name: checkout_session_id
        description: 'numeric Checkout session ID.'
        required: true
        example: '10'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      search:
        custom: []
        name: search
        description: 'Search query for warehouse name or number.'
        required: false
        example: 'Відділення 1'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      limit:
        custom: []
        name: limit
        description: 'Number of records per page (1-500). Defaults to 50.'
        required: false
        example: 50
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      page:
        custom: []
        name: page
        description: 'Page number (starts from 1). Defaults to 1.'
        required: false
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanQueryParameters:
      method_code: np_warehouse
      city_external_id: 8d5a980d-391c-11dd-90d9-001a92567626
      checkout_session_id: '10'
      search: 'Відділення 1'
      limit: 50
      page: 1
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        custom: []
        status: 200
        content: modules/Shipping/docs/scribe/examples/search-warehouses-success.json
        headers: []
        description: Success
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
