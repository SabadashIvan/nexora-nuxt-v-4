name: Leads
description: |-

  APIs for managing leads
endpoints:
  -
    custom: []
    httpMethods:
      - POST
    uri: api/v1/leads
    metadata:
      custom: []
      groupName: Leads
      groupDescription: |-

        APIs for managing leads
      subgroup: ''
      subgroupDescription: ''
      title: 'Create lead'
      description: 'Submit a new lead. Rate limited to 3 attempts per 60 minutes per email/IP combination.'
      authenticated: false
      deprecated: false
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      items:
        custom: []
        name: items
        description: 'Array of product variants.'
        required: true
        example:
          -
            variant_id: 1
            qty: 2
        type: 'string[]'
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      'items[].variant_id':
        custom: []
        name: 'items[].variant_id'
        description: 'Product variant ID. Must exist in variants table.'
        required: true
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      'items[].qty':
        custom: []
        name: 'items[].qty'
        description: 'Quantity of the variant. Minimum: 1. Defaults to 1.'
        required: false
        example: 2
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      customer_name:
        custom: []
        name: customer_name
        description: 'Customer full name. Min: 2, Max: 100 characters.'
        required: true
        example: 'John Doe'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      customer_phone:
        custom: []
        name: customer_phone
        description: 'Customer phone number. Min: 5, Max: 30 characters.'
        required: true
        example: '+380501234567'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      customer_email:
        custom: []
        name: customer_email
        description: 'Customer email address. Max: 100 characters.'
        required: false
        example: john@example.com
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      comment:
        custom: []
        name: comment
        description: 'Customer comment or additional information. Max: 1000 characters.'
        required: false
        example: 'Please call after 6 PM'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      user_id:
        custom: []
        name: user_id
        description: 'Associated user ID if lead is from authenticated user.'
        required: false
        example: 2
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      currency:
        custom: []
        name: currency
        description: 'Currency code.'
        required: true
        example: UAH
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      locale:
        custom: []
        name: locale
        description: 'Locale code.'
        required: true
        example: uk
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      ip_address:
        custom: []
        name: ip_address
        description: 'Customer IP address (IPv4).'
        required: true
        example: 192.168.1.1
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      user_agent:
        custom: []
        name: user_agent
        description: 'Customer user agent. Max: 500 characters.'
        required: true
        example: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64)'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      source:
        custom: []
        name: source
        description: 'Lead source identifier. Max: 50 characters.'
        required: false
        example: landing_page
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanBodyParameters:
      items:
        -
          variant_id: 1
          qty: 2
      customer_name: 'John Doe'
      customer_phone: '+380501234567'
      customer_email: john@example.com
      comment: 'Please call after 6 PM'
      user_id: 2
      currency: UAH
      locale: uk
      ip_address: 192.168.1.1
      user_agent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64)'
      source: landing_page
    fileParameters: []
    responses:
      -
        custom: []
        status: 201
        content: |
          {
            "data": {
              "id": 1,
              "name": "Jane Smith",
              "email": "jane.smith@example.com",
              "phone": "+380501234567",
              "source": "landing_page",
              "metadata": {
                "ip_address": "127.0.0.1",
                "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",
                "referer": "https://example.com/promo"
              },
              "created_at": "2025-12-25T10:30:00.000000Z"
            }
          }
        headers: []
        description: Success
      -
        custom: []
        status: 422
        content: |
          {
            "message": "The email field must be a valid email address. (and 1 more error)",
            "errors": {
              "email": [
                "The email field must be a valid email address."
              ],
              "name": [
                "The name field is required."
              ]
            }
          }
        headers: []
        description: 'Validation error'
      -
        custom: []
        status: 429
        content: |
          {
            "message": "Too many lead submission attempts. Please try again in 3540 seconds.",
            "error": "too_many_attempts",
            "retry_after": 3540
          }
        headers: []
        description: 'Rate limit exceeded'
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
