name: Comments
description: 'Comments API'
endpoints:
  -
    custom: []
    httpMethods:
      - GET
    uri: api/v1/comments/types
    metadata:
      custom: []
      groupName: Comments
      groupDescription: 'Comments API'
      subgroup: ''
      subgroupDescription: ''
      title: 'Get all available commentable types'
      description: 'Returns a list of all registered commentable types in the system.'
      authenticated: false
      deprecated: false
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        custom: []
        status: 200
        content: |
          {
              "data": [
                  {
                      "value": "blog:post",
                      "title": "Blog Post"
                  }
              ]
          }
        headers: []
        description: Success
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - GET
    uri: api/v1/comments
    metadata:
      custom: []
      groupName: Comments
      groupDescription: 'Comments API'
      subgroup: ''
      subgroupDescription: ''
      title: 'List comments for a commentable entity'
      description: 'Retrieves a simple-paginated list of approved comments for the specified entity.'
      authenticated: false
      deprecated: false
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters:
      type:
        custom: []
        name: type
        description: 'Type of the commentable entity.'
        required: true
        example: 'blog:post'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      commentable_id:
        custom: []
        name: commentable_id
        description: 'ID of the entity to fetch comments for.'
        required: true
        example: 123
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      per_page:
        custom: []
        name: per_page
        description: 'Number of items per page (max 60).'
        required: false
        example: 15
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      page:
        custom: []
        name: page
        description: 'optional Page number.'
        required: false
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanQueryParameters:
      type: 'blog:post'
      commentable_id: 123
      per_page: 15
      page: 1
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        custom: []
        status: 200
        content: |
          {
              "data": [
                  {
                      "id": 1,
                      "text": "Great article! Very informative and well-written.",
                      "status": 1,
                      "author": {
                          "id": 42,
                          "name": "John Doe"
                      },
                      "commentable": {
                          "type": "blog:post",
                          "id": 123,
                          "title": "Blog Post"
                      },
                      "parent_id": null,
                      "created_at": "2025-12-10T14:30:00.000000Z",
                      "updated_at": "2025-12-10T14:30:00.000000Z",
                      "replies": [
                          {
                              "id": 2,
                              "text": "Thank you for your feedback!",
                              "status": 1,
                              "author": {
                                  "id": 1,
                                  "name": "Jane Smith"
                              },
                              "commentable": {
                                  "type": "blog:post",
                                  "id": 123,
                                  "title": "Blog Post"
                              },
                              "parent_id": 1,
                              "created_at": "2025-12-10T15:45:00.000000Z",
                              "updated_at": "2025-12-10T15:45:00.000000Z",
                              "replies": []
                          }
                      ]
                  },
                  {
                      "id": 3,
                      "text": "I have a question about the implementation details...",
                      "status": 1,
                      "author": {
                          "id": 88,
                          "name": "Bob Johnson"
                      },
                      "commentable": {
                          "type": "blog:post",
                          "id": 123,
                          "title": "Blog Post"
                      },
                      "parent_id": null,
                      "created_at": "2025-12-11T09:15:00.000000Z",
                      "updated_at": "2025-12-11T09:15:00.000000Z",
                      "replies": []
                  }
              ],
              "meta": {
                  "has_more_pages": true
              }
          }
        headers: []
        description: Success
      -
        custom: []
        status: 422
        content: |
          {
              "message": "The text field is required. (and 1 more error)",
              "errors": {
                  "text": [
                      "The text field is required."
                  ],
                  "commentable_id": [
                      "The commentable id field is required."
                  ]
              }
          }
        headers: []
        description: 'Error: validation'
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - POST
    uri: api/v1/comments
    metadata:
      custom: []
      groupName: Comments
      groupDescription: 'Comments API'
      subgroup: ''
      subgroupDescription: ''
      title: 'Create a comment'
      description: |-
        Creates a comment for the specified entity. Comments are created with Pending status
        and require moderation before appearing publicly. For now works only for BlogPost.
      authenticated: true
      deprecated: false
    headers:
      Authorization: 'Bearer {YOUR_AUTH_KEY}'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      type:
        custom: []
        name: type
        description: 'Type of the commentable entity.'
        required: true
        example: 'blog:post'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      id:
        custom: []
        name: id
        description: 'Entity ID to comment on.'
        required: true
        example: 123
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      text:
        custom: []
        name: text
        description: 'Comment text (max 5000 characters).'
        required: true
        example: 'Great article!'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      parent_id:
        custom: []
        name: parent_id
        description: 'optional Parent comment ID for replies.'
        required: false
        example: 456
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanBodyParameters:
      type: 'blog:post'
      id: 123
      text: 'Great article!'
      parent_id: 456
    fileParameters: []
    responses:
      -
        custom: []
        status: 201
        content: |
          {
              "data": {
                  "id": 4,
                  "text": "Great article!",
                  "status": 0,
                  "author": {
                      "id": 42,
                      "name": "John Doe"
                  },
                  "commentable": {
                      "type": "blog:post",
                      "id": 123,
                      "title": "Blog Post"
                  },
                  "parent_id": null,
                  "created_at": "2025-12-11T12:30:00.000000Z",
                  "updated_at": "2025-12-11T12:30:00.000000Z",
                  "replies": []
              }
          }
        headers: []
        description: Success
      -
        custom: []
        status: 201
        content: |
          {
              "data": {
                  "id": 5,
                  "text": "Thanks for the clarification!",
                  "status": 0,
                  "author": {
                      "id": 88,
                      "name": "Bob Johnson"
                  },
                  "commentable": {
                      "type": "blog:post",
                      "id": 123,
                      "title": "Blog Post"
                  },
                  "parent_id": 2,
                  "created_at": "2025-12-11T13:15:00.000000Z",
                  "updated_at": "2025-12-11T13:15:00.000000Z",
                  "replies": []
              }
          }
        headers: []
        description: 'Success: Reply'
      -
        custom: []
        status: 422
        content: |
          {
              "message": "The text field is required. (and 1 more error)",
              "errors": {
                  "text": [
                      "The text field is required."
                  ],
                  "commentable_id": [
                      "The commentable id field is required."
                  ]
              }
          }
        headers: []
        description: 'Error: validation'
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - PATCH
    uri: 'api/v1/comments/{id}'
    metadata:
      custom: []
      groupName: Comments
      groupDescription: 'Comments API'
      subgroup: ''
      subgroupDescription: ''
      title: 'Update a comment'
      description: 'Updates the text of an existing comment. Only the author can update their comment.'
      authenticated: true
      deprecated: false
    headers:
      Authorization: 'Bearer {YOUR_AUTH_KEY}'
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      id:
        custom: []
        name: id
        description: 'The ID of the comment.'
        required: true
        example: 16
        type: integer
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      comment:
        custom: []
        name: comment
        description: 'Comment ID.'
        required: true
        example: 123
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanUrlParameters:
      id: 16
      comment: 123
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      text:
        custom: []
        name: text
        description: 'Updated comment text (max 5000 characters).'
        required: true
        example: 'Updated comment text'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanBodyParameters:
      text: 'Updated comment text'
    fileParameters: []
    responses:
      -
        custom: []
        status: 200
        content: |
          {
              "data": {
                  "id": 4,
                  "text": "Updated comment text",
                  "status": 0,
                  "author": {
                      "id": 42,
                      "name": "John Doe"
                  },
                  "commentable": {
                      "type": "blog:post",
                      "id": 123,
                      "title": "Blog Post"
                  },
                  "parent_id": null,
                  "created_at": "2025-12-11T12:30:00.000000Z",
                  "updated_at": "2025-12-11T14:00:00.000000Z",
                  "replies": []
              }
          }
        headers: []
        description: Success
      -
        custom: []
        status: 403
        content: |
          {
              "message": "This action is unauthorized."
          }
        headers: []
        description: 'Error: forbidden'
      -
        custom: []
        status: 422
        content: |
          {
              "message": "The text field is required. (and 1 more error)",
              "errors": {
                  "text": [
                      "The text field is required."
                  ],
                  "commentable_id": [
                      "The commentable id field is required."
                  ]
              }
          }
        headers: []
        description: 'Error: validation'
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - DELETE
    uri: 'api/v1/comments/{id}'
    metadata:
      custom: []
      groupName: Comments
      groupDescription: 'Comments API'
      subgroup: ''
      subgroupDescription: ''
      title: 'Delete a comment'
      description: 'Deletes a comment. Only the author or admin can delete a comment.'
      authenticated: true
      deprecated: false
    headers:
      Authorization: 'Bearer {YOUR_AUTH_KEY}'
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      id:
        custom: []
        name: id
        description: 'The ID of the comment.'
        required: true
        example: 16
        type: integer
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      comment:
        custom: []
        name: comment
        description: 'Comment ID.'
        required: true
        example: 123
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanUrlParameters:
      id: 16
      comment: 123
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        custom: []
        status: 204
        content: ''
        headers: []
        description: Success
      -
        custom: []
        status: 403
        content: |
          {
              "message": "This action is unauthorized."
          }
        headers: []
        description: 'Error: forbidden'
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
